# 工程测试基础课程作业

**这是华中科技大学李昊轩的工程测试基础课的作业，指导老师是何岭松。**

## 作业目录

- **hw1/** - 作业1：可调正弦波信号发生器
- **hw2/** - 作业2：信号频谱分析程序

---

## 作业1：可调正弦波信号发生器

### 作业要求
用DRVI GUI编程实现一个频率在100-2000Hz之间可调、幅值在0-1之间可调，相位在0-180度之间可调的正弦波信号，信号采样频率为44100Hz。

### 程序文件
**hw1/sine_generator_drvi.py** - 可调正弦波信号发生器

### 运行方法
```bash
python hw1/sine_generator_drvi.py
```

### 功能特点
- ✅ 频率可调：100-2000 Hz
- ✅ 幅值可调：0-1
- ✅ 相位可调：0-180度
- ✅ 采样频率：44100 Hz
- ✅ 实时波形显示

### 使用说明
1. 拖动旋钮调节频率和幅值
2. 拖动滑块调节相位
3. 点击"Run"按钮查看波形

---

## 作业2：信号频谱分析程序

### 作业要求
1. 在标准信号发生器基础上完成FFT频谱分析程序，并检验频谱正确性
2. 用MIC/MP3信号作为信号源，实现加窗函数选择、线性/对数谱选择

### 程序文件

#### 1. hw2/hw2_complete.py - 标准信号频谱分析器
- 支持正弦波、方波、三角波、白噪声
- FFT频谱分析
- 窗函数选择（矩形/汉宁/汉明/布莱克曼）
- 线性谱和对数谱显示

#### 2. hw2/hw2_audio_complete.py - 音频信号频谱分析器
- 麦克风实时采集分析
- MP3/WAV文件播放分析
- 窗函数选择
- 线性谱和对数谱显示

### 运行方法

**程序1：标准信号分析**
```bash
python hw2/hw2_complete.py
```

**程序2：音频信号分析**
```bash
python hw2/hw2_audio_complete.py
```

**依赖库安装（程序2需要）：**
```bash
pip install pyaudio    # 麦克风功能
pip install librosa    # 音频文件播放
```

### 使用说明

**程序1操作：**
1. 点击信号类型按钮（Sine/Square/Triangle/Noise）
2. 用旋钮调节频率和幅值
3. 点击RUN按钮显示波形和频谱
4. 点击窗函数按钮（Rect/Hanning/Hamming/Blackman）
5. 点击Linear/Log切换显示模式

**程序2操作：**
1. 点击"Mic Start"开始麦克风采集
2. 点击"Open Audio"选择音频文件
3. 点击"Stop"停止
4. 可选择窗函数和显示模式

---

## 环境配置

### 必需依赖
```bash
pip install numpy
pip install scipy
pip install matplotlib
pip install drvi
```

### 可选依赖（音频功能）
```bash
pip install pyaudio    # 麦克风采集
pip install librosa    # 音频文件加载
```

---

## 作业完成情况

### 作业1
- [x] 频率可调（100-2000Hz）✅
- [x] 幅值可调（0-1）✅
- [x] 相位可调（0-180度）✅
- [x] 采样频率44100Hz ✅

### 作业2
- [x] 任务1：标准信号FFT频谱分析 ✅
- [x] 任务2：音频信号频谱分析 ✅
- [x] 窗函数选择功能 ✅
- [x] 线性/对数谱显示 ✅

---

**备注：** 所有程序均基于DRVI虚拟仪器库开发，采用数据流驱动和直连编程模式。
